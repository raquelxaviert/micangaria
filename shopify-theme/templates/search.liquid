{% comment %}
  Template de busca - mantendo o design sofisticado do miçangaria
{% endcomment %}

<div class="container py-8">
  {% if search.performed %}
    <div class="text-center mb-8">
      <h1 class="font-headline text-4xl text-primary mb-4">
        Resultados da Busca
      </h1>
      {% if search.results_count > 0 %}
        <p class="text-muted-foreground text-lg">
          Encontramos {{ search.results_count }} 
          {% if search.results_count == 1 %}produto{% else %}produtos{% endif %}
          para "{{ search.terms }}"
        </p>
      {% else %}
        <p class="text-muted-foreground text-lg">
          Nenhum produto encontrado para "{{ search.terms }}"
        </p>
      {% endif %}
    </div>

    {% if search.results_count > 0 %}
      <div class="products-grid">
        {% for item in search.results %}
          {% if item.object_type == 'product' %}
            {% render 'product-card', product: item %}
          {% endif %}
        {% endfor %}
      </div>

      {% if paginate.pages > 1 %}
        <div class="pagination-wrapper text-center mt-12">
          {% render 'pagination', paginate: paginate %}
        </div>
      {% endif %}
    {% else %}
      <!-- Sugestões quando não há resultados -->
      <div class="text-center py-12">
        <div class="mb-8">
          <i data-lucide="search-x" class="text-muted-foreground" style="width: 4rem; height: 4rem; margin: 0 auto 1rem;"></i>
        </div>
        
        <h2 class="font-headline text-2xl text-primary mb-4">
          Que tal tentar uma nova busca?
        </h2>
        
        <div class="max-w-md mx-auto mb-8">
          <form action="/search" method="get" class="search-form">
            <div style="position: relative; display: flex;">
              <input 
                type="text" 
                name="q" 
                placeholder="Buscar produtos..." 
                class="search-input"
                value="{{ search.terms }}"
              >
              <button type="submit" class="search-button">
                <i data-lucide="search" style="width: 1rem; height: 1rem;"></i>
              </button>
            </div>
          </form>
        </div>

        <div class="grid md:grid-cols-2 gap-6 max-w-2xl mx-auto">
          <div class="text-center">
            <h3 class="font-headline text-lg text-primary mb-2">Categorias Populares</h3>
            <div class="space-y-2">
              <a href="/collections/colares" class="block text-secondary hover:text-primary transition-colors">Colares</a>
              <a href="/collections/pulseiras" class="block text-secondary hover:text-primary transition-colors">Pulseiras</a>
              <a href="/collections/brincos" class="block text-secondary hover:text-primary transition-colors">Brincos</a>
              <a href="/collections/aneis" class="block text-secondary hover:text-primary transition-colors">Anéis</a>
            </div>
          </div>
          
          <div class="text-center">
            <h3 class="font-headline text-lg text-primary mb-2">Estilos</h3>
            <div class="space-y-2">
              <a href="/collections/boho" class="block text-secondary hover:text-primary transition-colors">Boho</a>
              <a href="/collections/indigena" class="block text-secondary hover:text-primary transition-colors">Indígena</a>
              <a href="/collections/etnico" class="block text-secondary hover:text-primary transition-colors">Étnico</a>
              <a href="/collections/handmade" class="block text-secondary hover:text-primary transition-colors">Artesanal</a>
            </div>
          </div>
        </div>
      </div>
    {% endif %}
  {% else %}
    <!-- Página inicial de busca -->
    <div class="text-center py-12">
      <h1 class="font-headline text-4xl text-primary mb-4">
        Buscar Produtos
      </h1>
      <p class="text-muted-foreground text-lg mb-8">
        Encontre os acessórios perfeitos para o seu estilo
      </p>
      
      <div class="max-w-md mx-auto">
        <form action="/search" method="get" class="search-form">
          <div style="position: relative; display: flex;">
            <input 
              type="text" 
              name="q" 
              placeholder="Digite o que você procura..." 
              class="search-input"
              autofocus
            >
            <button type="submit" class="search-button">
              <i data-lucide="search" style="width: 1rem; height: 1rem;"></i>
            </button>
          </div>
        </form>
      </div>
    </div>
  {% endif %}
</div>

<script>
  // Inicializar ícones Lucide
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof lucide !== 'undefined') {
      lucide.createIcons();
    }
  });
</script>
